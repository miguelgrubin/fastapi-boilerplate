# Traefik Configuration for FastAPI Boilerplate
# Adapted from Authelia + Traefik Setup Guide
# https://www.authelia.com/blog/authelia--traefik-setup-guide/

api:
  dashboard: true
  debug: false
  insecure: true  # Enable dashboard without auth for localhost development

log:
  level: 'DEBUG'

accessLog:
  filePath: '/logs/access.log'

# Entry points - HTTP redirects to HTTPS
entryPoints:
  web:
    address: ':80'
    http:
      redirections:
        entryPoint:
          to: websecure
          scheme: https
  websecure:
    address: ':443'

providers:
  docker:
    endpoint: 'unix:///var/run/docker.sock'
    exposedByDefault: false
    network: proxy
  file:
    filename: '/dynamic.yml'
    watch: true
